
angular.module("RDash",["ui.bootstrap","ui.router","ngCookies"]);
"use strict";angular.module("RDash").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html"}).state("tables",{url:"/tables",templateUrl:"templates/tables.html"}).state("cloud",{url:"/cloud",templateUrl:"templates/cloud.html"}).state("script",{url:"/script",templateUrl:"templates/script.html"})}]);
function AlertsCtrl(e){e.robot="true",e.hideRobot=function(){e.robot="false"},e.hints=[{value:'use "n" letter as the servers number',done:"false"},{value:"copy your local application to your private github repository",done:"false"},{value:"insert link to your github repository",done:"false"},{value:"set value of something to something if lorem ipsum",done:"false"},{value:"something and something to something if lorem ipsum",done:"false"},{value:"set value of something to something if lorem ipsum",done:"false"},{value:'save your script by pushing the "save your script" button',done:"false"}],e.closeHint=function(o){e.hints.splice(o,1)}}angular.module("RDash").controller("AlertsCtrl",["$scope",AlertsCtrl]);
function MasterCtrl(t,o,e,n){var g=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(e){t.toggle=e>=g?angular.isDefined(o.get("toggle"))?o.get("toggle")?!0:!1:!0:!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,o.put("toggle",t.toggle)},window.onresize=function(){t.$apply()},t.gotoOutput=function(){e.hash("outputdiv"),n()}}angular.module("RDash").controller("MasterCtrl",["$scope","$cookieStore","$location","$anchorScroll",MasterCtrl]);
function ScriptCtrl(e,o){var t=ace.edit("editor");t.setTheme("ace/theme/monokai"),t.getSession().setMode("ace/mode/sh"),e.clearWindow=function(){t.setValue("")},e.showWindow=function(){t.setValue("pwd")},e.$on("sid",function(e,n){var s=n,c=t.getValue();console.log("sid function"+{cmd:c,sid:s}),o.$broadcast("skrypt",{cmd:c,sid:s})}),e.saveWindow=function(){e.tekst=t.getValue(),alert("You need to choose one of the listed serves!")}}angular.module("RDash").controller("ScriptCtrl",["$scope","$rootScope",ScriptCtrl]);
function ServersCtrl(e,o,n){var s="",c=window.location;s=c.host,o.servers,void 0==o.results&&(o.results={}),e.see,e.connected="false",e.connect="true",e.loading="false",e.myWebSocket=new WebSocket("ws://"+s+"/api/listmachines"),e.myWebSocket.onmessage=function(n){console.log("onmessage. size: "+n.data);var s=JSON.parse(n.data);e.$apply(function(){o.servers=s})},e.myWebSocket.onopen=function(){e.myWebSocket.send("START"),console.log("onopen - myWebSocket"),e.connected="true",e.connect="false"},e.myWebSocket.onclose=function(){console.log("onclose - myWebSocket"),e.connected="false",e.connect="true"},e.myWebSocket.onerror=function(){console.log("Error!")},e.myResultWebSocket=new WebSocket("ws://"+s+"/api/screens"),e.myResultWebSocket.onmessage=function(n){console.log("My myResultWebSocket size: "+n.data);var s=JSON.parse(n.data);id=s.id.toString(),console.log("ID: "+id),cmd=s.cmd,cmd=s.cmd,console.log("cmd: "+cmd),e.$apply(function(){id in o.results?o.results[id]+=cmd:o.results[id]=cmd}),console.log(o.results)},e.myResultWebSocket.onopen=function(){e.myResultWebSocket.send("START"),console.log("onopen - myResultWebSocket"),e.connected="true",e.connect="false"},e.myResultWebSocket.onclose=function(){console.log("onclose - myResultWebSocket"),e.connected="false",e.connect="true"},e.myResultWebSocket.onerror=function(){console.log("Error!")},e.addServer=function(){n.get("http://"+s+"/api/addmachine").success(function(){console.log("OK, wyslano zadanie dodania maszyny")}).error(function(){console.log("Fail http get")})},e.connectToWS=function(){e.myWebSocket.send("START"),e.myResultWebSocket.send("START")},e.seeServer=function(o){e.see=o},e.sendToServer=function(e){var n=o.servers[e].id;console.log("send server sid: "+n),o.$broadcast("sid",n)},e.$on("skrypt",function(o,n){var s=n.sid,c=n.cmd;console.log("skrypt broadcast sid: "+s+" cmd: "+c),e.myResultWebSocket.send('{ \n            "id": "'+s+'", \n            "cmd": "'+c+'"\n        }')}),e.closeServer=function(o){e.servers.splice(o,1)},e.refreshServers=function(){n.get("http://"+s+"/api/refreshmachines").success(function(){console.log("OK, list will be refreshed")}).error(function(){console.log("Fail http get")})},e.closeAllServers=function(){n.get("http://"+s+"/api/removeall").success(function(){console.log("OK, all servers will be removed soon")}).error(function(){console.log("Fail http get")})}}angular.module("RDash").controller("ServersCtrl",["$scope","$rootScope","$http","$filter",ServersCtrl]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("RDash").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("RDash").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("RDash").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("RDash").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("RDash").directive("rdWidget",rdWidget);